{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/yanglina/wadmin/src/view/module/system/api/index.vue?vue&type=template&id=31e69fef&xmlns=http%3A%2F%2Fwww.w3.org%2F1999%2Fhtml&","dependencies":[{"path":"/Users/yanglina/wadmin/src/view/module/system/api/index.vue","mtime":1577426275083},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <Card shadow>\n    <Form ref=\"searchForm\"\n          :model=\"pageInfo\"\n          inline\n          :label-width=\"80\">\n      <FormItem label=\"请求路径\" prop=\"path\">\n        <Input type=\"text\" v-model=\"pageInfo.path\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem label=\"接口名称\" prop=\"apiName\">\n        <Input type=\"text\" v-model=\"pageInfo.apiName\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem label=\"接口编码\" prop=\"apiCode\">\n        <Input type=\"text\" v-model=\"pageInfo.apiCode\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem label=\"服务名\" prop=\"serviceId\">\n        <Input type=\"text\" v-model=\"pageInfo.serviceId\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem>\n        <Button type=\"primary\" @click=\"handleSearch(1)\">查询</Button>&nbsp;\n        <Button @click=\"handleResetForm('searchForm')\">重置</Button>\n      </FormItem>\n    </Form>\n    <div class=\"search-con search-con-top\">\n      <ButtonGroup>\n        <Button :disabled=\"hasAuthority('systemApiEdit')?false:true\" class=\"search-btn\" type=\"primary\"\n                @click=\"handleModal()\">\n          <span>添加</span>\n        </Button>\n      </ButtonGroup>\n      <Dropdown v-if=\"tableSelection.length>0 && hasAuthority('systemApiEdit')\" @on-click=\"handleBatchClick\"\n                style=\"margin-left: 20px\">\n        <Button>\n          <span>批量操作</span>\n          <Icon type=\"ios-arrow-down\"></Icon>\n        </Button>\n        <DropdownMenu slot=\"list\">\n          <DropdownItem name=\"remove\">删除</DropdownItem>\n          <Dropdown placement=\"right-start\">\n            <DropdownItem>\n              <span>状态</span>\n              <Icon type=\"ios-arrow-forward\"></Icon>\n            </DropdownItem>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem name=\"status1\">启用</DropdownItem>\n              <DropdownItem name=\"status2\">禁用</DropdownItem>\n              <DropdownItem name=\"status3\">维护中</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n          <Dropdown placement=\"right-start\">\n            <DropdownItem>\n              <span>公开访问</span>\n              <Icon type=\"ios-arrow-forward\"></Icon>\n            </DropdownItem>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem name=\"open1\">允许公开访问</DropdownItem>\n              <DropdownItem name=\"open2\">拒绝公开访问</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n          <Dropdown placement=\"right-start\">\n            <DropdownItem>\n              <span>身份认证</span>\n              <Icon type=\"ios-arrow-forward\"></Icon>\n            </DropdownItem>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem name=\"auth1\">开启身份认证</DropdownItem>\n              <DropdownItem name=\"auth2\">关闭身份认证</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>\n        </DropdownMenu>\n      </Dropdown>\n    </div>\n    <Alert show-icon>\n      <span>自动扫描<code>@EnableResourceServer</code>资源服务器接口信息,注:自动添加的接口,都是未公开的. <code>只有公开的接口,才可以通过网关访问。否则将提示:\"请求地址,拒绝访问!\"</code></span>\n    </Alert>\n    <Table @on-selection-change=\"handleTableSelectChange\" border :columns=\"columns\" :data=\"data\" :loading=\"loading\">\n      <template slot=\"apiName\" slot-scope=\"{ row }\">\n        <span>{{row.apiName}}</span>\n      </template>\n      <template slot=\"isAuth\" slot-scope=\"{ row }\">\n        <Tag color=\"green\" v-if=\"row.isOpen===1\">允许公开访问</Tag>\n        <Tag color=\"red\" v-else-if=\"row.isOpen!==1\">拒绝公开访问</Tag>\n        <Tag color=\"green\" v-if=\"row.isAuth===1\">开启身份认证</Tag>\n        <Tag color=\"red\" v-else-if=\"row.isAuth!==1\">关闭身份认证</Tag>\n        <Tag v-if=\"row.status===1\" color=\"green\">启用</Tag>\n        <Tag v-else-if=\"row.status===2\" color=\"orange\">维护中</Tag>\n        <Tag v-else=\"\" color=\"red\">禁用</Tag>\n      </template>\n      <template slot=\"action\" slot-scope=\"{ row }\">\n        <a :disabled=\"hasAuthority('systemApiEdit')?false:true\" @click=\"handleModal(row)\">\n          编辑</a>&nbsp;\n        <a :disabled=\"hasAuthority('systemApiEdit')?false:true\" @click=\"handleRemove(row)\">\n          删除</a>\n      </template>\n    </Table>\n    <Page transfer :total=\"pageInfo.total\" :current=\"pageInfo.page\" :page-size=\"pageInfo.limit\" show-elevator\n          show-sizer\n          show-total\n          @on-change=\"handlePage\" @on-page-size-change='handlePageSize'></Page>\n  </Card>\n  <Modal v-model=\"modalVisible\"\n         :title=\"modalTitle\"\n         width=\"40\"\n         @on-cancel=\"handleReset\">\n    <div>\n      <Alert show-icon v-if=\"formItem.apiId?true:false\">\n        <span>自动扫描接口swagger注解。</span>\n        <Poptip placement=\"bottom\" title=\"示例代码\">\n          <a>示例代码</a>\n          <div slot=\"content\">\n            <div v-highlight>\n              <pre>\n                    // 接口介绍\n                    @ApiOperation(value = \"接口名称\", notes = \"接口备注\")\n                    @PostMapping(\"/testApi\")\n                    // 忽略接口,将不再添加或修改次接口\n                    @ApiIgnore\n                    public ResultBody testApi() {\n                        return ResultBody.success();\n                    }\n              </pre>\n            </div>\n          </div>\n        </Poptip>\n      </Alert>\n      <Form ref=\"form1\" :model=\"formItem\" :rules=\"formItemRules\" :label-width=\"100\">\n        <FormItem label=\"服务名称\" prop=\"serviceId\">\n          <Select :disabled=\"formItem.apiId && formItem.isPersist === 1?true:false\" v-model=\"formItem.serviceId\"\n                  filterable clearable>\n            <Option v-for=\"(item, index) in selectServiceList\" :key=\"index\" :value=\"item.serviceId\">{{ item.serviceName }}</Option>\n          </Select>\n        </FormItem>\n        <FormItem label=\"接口分类\" prop=\"apiCategory\">\n          <Input v-model=\"formItem.apiCategory\" placeholder=\"请输入内容\" />\n        </FormItem>\n        <FormItem label=\"接口编码\" prop=\"apiCode\">\n          <Input :disabled=\"formItem.apiId && formItem.isPersist === 1?true:false\" v-model=\"formItem.apiCode\"\n                 placeholder=\"请输入内容\" />\n        </FormItem>\n        <FormItem label=\"接口名称\" prop=\"apiName\">\n          <Input :disabled=\"formItem.apiId && formItem.isPersist === 1?true:false\" v-model=\"formItem.apiName\"\n                 placeholder=\"请输入内容\" />\n        </FormItem>\n        <FormItem label=\"请求地址\" prop=\"path\">\n          <Input :disabled=\"formItem.apiId && formItem.isPersist === 1?true:false\" v-model=\"formItem.path\"\n                 placeholder=\"请输入内容\" />\n        </FormItem>\n        <FormItem label=\"优先级\">\n          <InputNumber v-model=\"formItem.priority\"></InputNumber>\n        </FormItem>\n        <FormItem label=\"身份认证\">\n          <RadioGroup v-model=\"formItem.isAuth\" type=\"button\">\n            <Radio :disabled=\"formItem.apiId && formItem.isPersist === 1?true:false\" label=\"0\">关闭</Radio>\n            <Radio :disabled=\"formItem.apiId && formItem.isPersist === 1?true:false\" label=\"1\">开启</Radio>\n          </RadioGroup>\n          <p><code>开启：未认证登录,提示\"认证失败,请重新登录!\";关闭: 不需要认证登录</code></p>\n        </FormItem>\n        <FormItem label=\"公开访问\">\n          <RadioGroup v-model=\"formItem.isOpen\" type=\"button\">\n            <Radio label=\"0\">拒绝</Radio>\n            <Radio label=\"1\">允许</Radio>\n          </RadioGroup>\n         <p><code>拒绝:提示\"请求地址,拒绝访问!\"</code></p>\n        </FormItem>\n        <FormItem label=\"状态\">\n          <RadioGroup v-model=\"formItem.status\" type=\"button\">\n            <Radio label=\"0\">禁用</Radio>\n            <Radio label=\"1\">启用</Radio>\n            <Radio label=\"2\">维护中</Radio>\n          </RadioGroup>\n          <p><code>禁用：提示\"请求地址,禁止访问!\";维护中：提示\"正在升级维护中,请稍后再试!\";</code></p>\n        </FormItem>\n        <FormItem label=\"描述\">\n          <Input v-model=\"formItem.apiDesc\" type=\"textarea\" placeholder=\"请输入内容\" />\n        </FormItem>\n      </Form>\n      <div class=\"drawer-footer\">\n        <Button type=\"default\" @click=\"handleReset\">取消</Button>&nbsp;\n        <Button type=\"primary\" @click=\"handleSubmit\" :loading=\"saving\">保存</Button>\n      </div>\n    </div>\n  </Modal>\n\n</div>\n",null]}