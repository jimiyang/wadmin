{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/yanglina/wadmin/src/view/module/system/app/index.vue?vue&type=template&id=44278336&scoped=true&","dependencies":[{"path":"/Users/yanglina/wadmin/src/view/module/system/app/index.vue","mtime":1576491097381},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <Card shadow>\n    <Form ref=\"searchForm\"\n          :model=\"pageInfo\"\n          inline\n          :label-width=\"80\">\n      <FormItem label=\"AppId\" prop=\"appId\">\n        <Input type=\"text\" v-model=\"pageInfo.appId\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem label=\"中文名称\" prop=\"appName\">\n        <Input type=\"text\" v-model=\"pageInfo.appName\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem label=\"英文名称\" prop=\"appName\">\n        <Input type=\"text\" v-model=\"pageInfo.appNameEn\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem>\n        <Button type=\"primary\" @click=\"handleSearch(1)\">查询</Button>&nbsp;\n        <Button @click=\"handleResetForm('searchForm')\">重置</Button>\n      </FormItem>\n    </Form>\n    <div class=\"search-con search-con-top\">\n      <ButtonGroup>\n        <Button :disabled=\"hasAuthority('systemAppEdit')?false:true\" class=\"search-btn\" type=\"primary\"\n                @click=\"handleModal()\">\n          <span>添加</span>\n        </Button>\n      </ButtonGroup>\n    </div>\n    <Alert type=\"info\" show-icon>客户端模式,请授权相关接口资源。否则请求网关服务器将提示<code>\"权限不足,拒绝访问!\"</code></Alert>\n    <Table border :columns=\"columns\" :data=\"data\" :loading=\"loading\">\n      <template slot=\"status\" slot-scope=\"{ row }\">\n        <Badge v-if=\"row.status===1\" status=\"success\" text=\"上线\"/>\n        <Badge v-else=\"\" status=\"error\" text=\"下线\"/>\n      </template>\n      <template slot=\"appType\" slot-scope=\"{ row }\">\n        <Tag color=\"blue\" v-if=\"row.appType==='server'\">服务器应用</Tag>\n        <Tag color=\"blue\" v-else-if=\"row.appType==='app'\">手机应用</Tag>\n        <Tag color=\"blue\" v-else-if=\"row.appType==='pc'\">PC网页应用</Tag>\n        <Tag color=\"blue\" v-else=\"\">手机网页应用</Tag>\n      </template>\n      <template slot=\"action\" slot-scope=\"{ row }\">\n        <a @click=\"handleModal(row)\" :disabled=\"row.appId != 'gateway' && hasAuthority('systemAppEdit') ?false:true\">\n          编辑</a>&nbsp;\n        <Dropdown v-show=\"hasAuthority('systemAppEdit')\" transfer ref=\"dropdown\" @on-click=\"handleClick($event,row)\">\n          <a href=\"javascript:void(0)\" :disabled=\"row.appId === 'gateway' ?true:false\">\n            <span>更多</span>\n            <Icon type=\"ios-arrow-down\"></Icon>\n          </a>\n          <DropdownMenu slot=\"list\">\n            <DropdownItem name=\"resetSecret\">重置密钥</DropdownItem>\n            <DropdownItem name=\"remove\">删除应用</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n      </template>\n    </Table>\n    <Page transfer :total=\"pageInfo.total\" :current=\"pageInfo.page\" :page-size=\"pageInfo.limit\" show-elevator\n          show-sizer\n          show-total\n          @on-change=\"handlePage\" @on-page-size-change='handlePageSize'></Page>\n  </Card>\n\n  <Modal v-model=\"modalVisible\"\n         :title=\"modalTitle\"\n         width=\"40\"\n         @on-cancel=\"handleReset\">\n    <div>\n      <Tabs :value=\"current\" @on-click=\"handleTabClick\">\n        <TabPane label=\"应用信息\" name=\"form1\">\n          <Form ref=\"form1\" v-show=\"current=='form1'\" :model=\"formItem\" :rules=\"formItemRules\" :label-width=\"135\">\n            <FormItem label=\"应用图标\">\n              <div class=\"upload-list\" v-for=\"(item, index) in uploadList\" :key=\"index\">\n                <template v-if=\"item.status === 'finished'\">\n                  <img :src=\"item.url\">\n                  <div class=\"upload-list-cover\">\n                    <Icon type=\"ios-eye-outline\" @click.native=\"handleView(item.name)\"></Icon>\n                    <Icon type=\"ios-trash-outline\" @click.native=\"handleRemoveImg(item)\"></Icon>\n                  </div>\n                </template>\n                <template v-else>\n                  <Progress v-if=\"item.showProgress\" :percent=\"item.percentage\" hide-info></Progress>\n                </template>\n              </div>\n              <Upload\n                ref=\"upload\"\n                :show-upload-list=\"false\"\n                :default-file-list=\"defaultList\"\n                :format=\"['jpg','jpeg','png']\"\n                :max-size=\"2048\"\n                :on-success=\"handleSuccess\"\n                :on-format-error=\"handleFormatError\"\n                :on-exceeded-size=\"handleMaxSize\"\n                :before-upload=\"handleBeforeUpload\"\n                type=\"drag\"\n                action=\"//jsonplaceholder.typicode.com/posts/\"\n                style=\"display: inline-block;width:58px;\">\n                <div style=\"width: 58px;height:58px;line-height: 58px;\">\n                  <Icon type=\"ios-camera\" size=\"20\"></Icon>\n                </div>\n              </Upload>\n            </FormItem>\n            <FormItem label=\"AppId\">\n              <Input disabled v-model=\"formItem.appId\" placeholder=\"请输入内容\" />\n            </FormItem>\n            <FormItem label=\"开发者\">\n              <Select v-model=\"formItem.developerId\" filterable clearable>\n                <Option\n                  :title=\"item.userName\"\n                  v-for=\"(item, index) in selectUsers\"\n                  @click.native=\"handleOnSelectUser(item)\"\n                  :value=\"item.userId\"\n                  :label=\"item.userName\"\n                  :key=\"index\"\n                >\n                  <span>{{ item.userName }}</span>\n                </Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"应用名称\" prop=\"appName\">\n              <Input v-model=\"formItem.appName\" placeholder=\"请输入内容\" />\n            </FormItem>\n            <FormItem label=\"英文名称\" prop=\"appNameEn\">\n              <Input v-model=\"formItem.appNameEn\" placeholder=\"请输入内容\" />\n            </FormItem>\n            <FormItem label=\"应用类型\" prop=\"appType\">\n              <Select v-model=\"formItem.appType\" @on-change=\"handleOnAppTypeChange\">\n                <Option value=\"server\">服务器应用</Option>\n                <Option value=\"app\">手机应用</Option>\n                <Option value=\"pc\">PC网页应用</Option>\n                <Option value=\"wap\">手机网页应用</Option>\n              </Select>\n            </FormItem>\n            <FormItem v-if=\"formItem.appType === 'app'\" prop=\"appOs\" label=\"操作系统\">\n              <RadioGroup v-model=\"formItem.appOs\">\n                <Radio label=\"ios\">\n                  <Icon type=\"logo-apple\"></Icon>\n                  <span>苹果IOS</span>\n                </Radio>\n                <Radio label=\"android\">\n                  <Icon type=\"logo-android\"></Icon>\n                  <span>安卓Android</span>\n                </Radio>\n              </RadioGroup>\n            </FormItem>\n            <FormItem label=\"应用官网\" prop=\"website\">\n              <Input v-model=\"formItem.website\" placeholder=\"请输入内容\" />\n            </FormItem>\n            <FormItem label=\"状态\">\n              <RadioGroup v-model=\"formItem.status\" type=\"button\">\n                <Radio label=\"0\">下线</Radio>\n                <Radio label=\"1\">上线</Radio>\n              </RadioGroup>\n            </FormItem>\n            <FormItem label=\"描述\">\n              <Input v-model=\"formItem.appDesc\" type=\"textarea\" placeholder=\"请输入内容\" />\n            </FormItem>\n          </Form>\n        </TabPane>\n        <TabPane :disabled=\"!formItem.appId\" label=\"开发信息\" name=\"form2\">\n          <Form ref=\"form2\" v-show=\"current=='form2'\" :model=\"formItem\" :rules=\"formItemRules\" :label-width=\"135\">\n            <FormItem label=\"ApiKey\">\n              <Input disabled v-model=\"formItem.apiKey\" placeholder=\"请输入内容\" />\n            </FormItem>\n            <FormItem label=\"SecretKey\">\n              <Input disabled v-model=\"formItem.secretKey\" placeholder=\"请输入内容\" />\n            </FormItem>\n            <FormItem label=\"授权类型\" prop=\"grantTypes\">\n              <CheckboxGroup v-model=\"formItem.grantTypes\">\n                <Tooltip :content=\"item.desc\" v-for=\"(item, index) in selectGrantTypes\" :key=\"index\">\n                  <Checkbox :label=\"item.label\"><span>{{ item.title }}</span></Checkbox>\n                </Tooltip>\n              </CheckboxGroup>\n            </FormItem>\n            <FormItem label=\"用户授权范围\" prop=\"scopes\">\n          <span slot=\"label\">用户授权范围\n          <Tooltip content=\"提醒用户确认授权可访问的资源\">\n            <Icon type=\"ios-alert\" size=\"16\"/>\n          </Tooltip>\n          </span>\n              <CheckboxGroup v-model=\"formItem.scopes\">\n                <Checkbox v-for=\"(item, index) in selectScopes\" :key=\"index\" :label=\"item.label\"><span>{{ item.title }}</span>\n                </Checkbox>\n              </CheckboxGroup>\n            </FormItem>\n            <FormItem label=\"自动授权范围\">\n          <span slot=\"label\">自动授权范围\n            <Tooltip content=\"不再提醒用户确认授权可访问的资源\">\n            <Icon type=\"ios-alert\" size=\"16\"/>\n          </Tooltip>\n          </span>\n              <CheckboxGroup v-model=\"formItem.autoApproveScopes\">\n                <Checkbox v-for=\"(item, index) in selectScopes\" :key=\"index\" :label=\"item.label\"><span>{{ item.title }}</span>\n                </Checkbox>\n              </CheckboxGroup>\n            </FormItem>\n            <FormItem label=\"令牌有效期\" prop=\"accessTokenValidity\">\n              <RadioGroup v-model=\"formItem.tokenValidity\" type=\"button\">\n                <Radio label=\"1\">设置有效期</Radio>\n                <Radio label=\"0\">不限制</Radio>\n              </RadioGroup>\n            </FormItem>\n            <FormItem v-show=\"formItem.tokenValidity === '1'\" label=\"访问令牌有效期\" prop=\"accessTokenValidity\">\n              <InputNumber :min=\"900\" v-model=\"formItem.accessTokenValidity\"></InputNumber>\n              <span>&nbsp;&nbsp;秒</span>\n            </FormItem>\n            <FormItem v-show=\"formItem.tokenValidity === '1'\" label=\"刷新令牌有效期\" prop=\"refreshTokenValidity\">\n              <InputNumber :min=\"900\" v-model=\"formItem.refreshTokenValidity\"></InputNumber>\n              <span>&nbsp;&nbsp;秒</span>\n            </FormItem>\n            <FormItem label=\"第三方登陆回调地址\" prop=\"redirectUrls\">\n              <Input v-model=\"formItem.redirectUrls\" type=\"textarea\" placeholder=\"请输入内容\" />\n              <span>多个地址使用,逗号隔开</span>\n            </FormItem>\n          </Form>\n        </TabPane>\n        <TabPane :disabled=\"!formItem.appId\" label=\"分配权限\" name=\"form3\">\n          <Form ref=\"form3\" v-show=\"current=='form3'\" :model=\"formItem\"  :label-width=\"100\" :rules=\"formItemRules\">\n            <FormItem prop=\"expireTime\" label=\"过期时间\">\n              <Badge v-if=\"formItem.isExpired\" text=\"授权已过期\">\n                <DatePicker v-model=\"formItem.expireTime\" class=\"ivu-form-item-error\" type=\"datetime\"\n                            placeholder=\"授权有效期\"></DatePicker>\n              </Badge>\n              <DatePicker v-else=\"\" v-model=\"formItem.expireTime\" type=\"datetime\" placeholder=\"设置有效期\"></DatePicker>\n            </FormItem>\n            <FormItem prop=\"authorities\" label=\"功能接口\" >\n              <Transfer\n                :data=\"selectApis\"\n                :list-style=\"{width: '45%',height: '480px'}\"\n                :titles=\"['选择接口', '已选择接口']\"\n                :render-format=\"transferRender\"\n                :target-keys=\"formItem.authorities\"\n                @on-change=\"handleTransferChange\"\n                filterable>\n              </Transfer>\n            </FormItem>\n          </Form>\n        </TabPane>\n      </Tabs>\n      <div class=\"drawer-footer\">\n        <Button type=\"default\" @click=\"handleReset\">取消</Button>&nbsp;\n        <Button type=\"primary\" @click=\"handleSubmit\" :loading=\"saving\">保存</Button>\n      </div>\n    </div>\n  </Modal>\n</div>\n",null]}