{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/yanglina/wadmin/src/view/module/system/developer/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglina/wadmin/src/view/module/system/developer/index.vue","mtime":1577561106548},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {getWebList, deleteSingelDept} from '@/api/department'\nexport default {\n  name: 'SystemDeveloper',\n  data() {\n    return {\n      loading: false,\n      pageInfo: {\n        page: 1,\n        size: 10\n      },\n      userInfo: JSON.parse(window.localStorage.getItem('userInfo')),\n      columns: [\n        {\n          type: 'selection',\n          width: 60,\n        },\n        {\n          title: '部门名称',\n          key: 'fullName',\n          width: 200\n        },\n        {\n          title: '部门简称',\n          key: 'simpleName',\n          width: 150\n        },\n        {\n          title: '地址',\n          key: 'address',\n          width: 200\n        },\n        {\n          title: '公司id',\n          key: 'compId',\n          width: 200\n        },\n        {\n          title: '部门人数',\n          key: 'num',\n          width: 100\n        },\n        {\n          title: '标签',\n          key: 'tips',\n          width: 150\n        },\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          width: 150\n        }\n      ],\n      data: []\n    }\n  },\n  methods: {\n    deleteDept(row) {\n      deleteSingelDept(row.id).then(res => {\n        if(res.code === 200) {\n          this.$Message.success(res.message)\n          this.handleSearch()\n        }\n      })\n    },\n    handleModal(row) {\n      this.$router.push({name: 'addDeveloper', params: {id: row !== undefined ? row.id : null}})\n    },\n    handleSearch() {\n      //this.loading = true\n      const params = Object.assign(this.pageInfo, {deptId: this.userInfo.deptId})\n      getWebList(this.pageInfo).then(res => {\n        if (res.code === 200) {\n          this.data = res.data.records\n          this.pageInfo.total = parseInt(res.data.total)\n        }\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    handlePage(current) {\n      this.pageInfo.page = current\n      this.handleSearch()\n    },\n    handlePageSize(size) {\n      this.pageInfo.limit = size\n      this.handleSearch()\n    }\n  },\n  mounted: function () {\n    this.handleSearch()\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/module/system/developer","sourcesContent":["<template>\n  <div>\n    <Card>\n      <Form ref=\"searchForm\"\n            :model=\"pageInfo\"\n            inline\n            :label-width=\"80\">\n        <FormItem label=\"部门名称\" prop=\"name\">\n          <Input type=\"text\" v-model=\"pageInfo.name\" placeholder=\"请输入关键字\" class=\"w260\"/>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click=\"handleSearch(1)\">查询</Button>&nbsp;\n          <Button @click=\"handleResetForm('searchForm')\">重置</Button>\n        </FormItem>\n      </Form>\n\n      <div class=\"search-con search-con-top\">\n        <Button type=\"primary\" @click=\"handleModal()\">添加</Button>\n        <Button type=\"primary\" class=\"ml10\">批量删除</Button>\n      </div>\n\n      <Table border :columns=\"columns\" :data=\"data\" :loading=\"loading\">\n        <template slot=\"status\" slot-scope=\"{ row }\">\n          <Badge v-if=\"row.status===1\" status=\"success\" text=\"正常\"/>\n          <Badge v-else-if=\"row.status===2\" status=\"warning\" text=\"锁定\"/>\n          <Badge v-else=\"\" status=\"error\" text=\"禁用\"/>\n        </template>\n        <template slot=\"action\" slot-scope=\"{ row }\">\n          <a  @click=\"handleModal(row)\">编辑</a>&nbsp;\n          <a  @click=\"deleteDept(row)\">删除</a>&nbsp;  \n        </template>\n      </Table>\n      <Page transfer :total=\"pageInfo.total\" :current=\"pageInfo.page\" :page-size=\"pageInfo.limit\" show-elevator\n            show-sizer\n            show-total\n            @on-change=\"handlePage\" @on-page-size-change='handlePageSize'></Page>\n    </Card>\n  </div>\n</template>\n\n<script>\n  import {getWebList, deleteSingelDept} from '@/api/department'\n  export default {\n    name: 'SystemDeveloper',\n    data() {\n      return {\n        loading: false,\n        pageInfo: {\n          page: 1,\n          size: 10\n        },\n        userInfo: JSON.parse(window.localStorage.getItem('userInfo')),\n        columns: [\n          {\n            type: 'selection',\n            width: 60,\n          },\n          {\n            title: '部门名称',\n            key: 'fullName',\n            width: 200\n          },\n          {\n            title: '部门简称',\n            key: 'simpleName',\n            width: 150\n          },\n          {\n            title: '地址',\n            key: 'address',\n            width: 200\n          },\n          {\n            title: '公司id',\n            key: 'compId',\n            width: 200\n          },\n          {\n            title: '部门人数',\n            key: 'num',\n            width: 100\n          },\n          {\n            title: '标签',\n            key: 'tips',\n            width: 150\n          },\n          {\n            title: '操作',\n            slot: 'action',\n            fixed: 'right',\n            width: 150\n          }\n        ],\n        data: []\n      }\n    },\n    methods: {\n      deleteDept(row) {\n        deleteSingelDept(row.id).then(res => {\n          if(res.code === 200) {\n            this.$Message.success(res.message)\n            this.handleSearch()\n          }\n        })\n      },\n      handleModal(row) {\n        this.$router.push({name: 'addDeveloper', params: {id: row !== undefined ? row.id : null}})\n      },\n      handleSearch() {\n        //this.loading = true\n        const params = Object.assign(this.pageInfo, {deptId: this.userInfo.deptId})\n        getWebList(this.pageInfo).then(res => {\n          if (res.code === 200) {\n            this.data = res.data.records\n            this.pageInfo.total = parseInt(res.data.total)\n          }\n        }).finally(() => {\n          this.loading = false\n        })\n      },\n      handlePage(current) {\n        this.pageInfo.page = current\n        this.handleSearch()\n      },\n      handlePageSize(size) {\n        this.pageInfo.limit = size\n        this.handleSearch()\n      }\n    },\n    mounted: function () {\n      this.handleSearch()\n    }\n  }\n</script>\n"]}]}