{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/yanglina/wadmin/src/view/module/system/user/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglina/wadmin/src/view/module/system/user/index.vue","mtime":1577546695967},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {startWith, listConvertTree} from '@/libs/util'\nimport {getUserList, addUser} from '@/api/user'\nimport {getListCompany} from '@/api/company'\nimport {getListDept} from '@/api/department'\nimport {provinceData, cityData, countryData} from '@/assets/js/area'\nexport default {\n  name: 'SystemUser',\n  data() {\n    return {\n      loading: false,\n      pageInfo: {\n        page: 1,\n        size: 10,\n        deptId: 1,\n        userId: 1\n      },\n      columns: [\n        {type: 'selection',width: 60,},\n        {title: 'id',key: 'id'},\n        {title: '用户名', key: 'username',width: 200},\n        {title: '昵称',key: 'nickname'},\n        {title: '性别',key: 'sex'},\n        {title: '邮箱', key: 'email'},\n        {title: '手机号',key: 'phone'},\n        {title: '省',key: 'province'},\n        {title: '市',key: 'city'},\n        {title: '区',key: 'area'},\n        {title: '地址',key: 'areaddressa'},\n        {title: '年龄',key: 'age'},\n        {title: '出生日期',key: 'birthday'},\n        {title: '公司id',key: 'compId'},\n        {title: '部门id',key: 'deptId'},\n        {title: '角色id',key: 'roleId'},\n        {title: '头像',key: 'headImage'},\n        {\n          title: '操作',\n          slot: 'action',\n          fixed: 'right',\n          width: 150\n        }\n      ],\n      columns2: [\n        {\n          title: '菜单',\n          key: 'menuName',\n          minWidth: '250px',\n        },\n        {\n          title: '操作',\n          type: 'template',\n          template: 'operation',\n          minWidth: '200px'\n        }\n      ],\n      data: [],\n      companyData: []\n    }\n  },\n  methods: {\n    handleModal(data) {\n      this.$router.push({name: 'userinfo'})\n    },\n    handleSearch(page) {\n      if (page) {\n        this.pageInfo.page = page\n      }\n      this.loading = true\n      getUserList(this.pageInfo).then(res => {\n        if (res.code === 200) {\n          this.data = res.data.records\n          this.pageInfo.total = parseInt(res.data.total)\n        }\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    handlePage(current) {\n      this.pageInfo.page = current\n      this.handleSearch()\n    },\n    handlePageSize(size) {\n      this.pageInfo.limit = size\n      this.handleSearch()\n    },\n    handleClick(name, row) {\n      switch (name) {\n        case'sendToEmail':\n          this.$Message.warning(\"发送至密保邮箱,开发中...\")\n          break\n      }\n    },\n    handleTabClick(name){\n      this.current = name\n      this.handleModal();\n    },\n    getDept() {\n      getListDept().then(rs => {\n        console.log(rs)\n      })\n    }\n  },\n  mounted: function () {\n    this.province = provinceData\n    //this.handleSearch()\n    //this.getDept()\n  }\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/view/module/system/user","sourcesContent":["<template>\n  <div>\n    <Card>\n      <Form ref=\"searchForm\"\n            :model=\"pageInfo\"\n            inline\n            :label-width=\"80\">\n        <FormItem label=\"登录名\" prop=\"userName\">\n          <Input type=\"text\" v-model=\"pageInfo.userName\" placeholder=\"请输入关键字\"/>\n        </FormItem>\n        <FormItem label=\"手机号\" prop=\"mobile\">\n          <Input type=\"text\" v-model=\"pageInfo.mobile\" placeholder=\"请输入关键字\"/>\n        </FormItem>\n        <FormItem label=\"邮箱\" prop=\"email\">\n          <Input type=\"text\" v-model=\"pageInfo.email\" placeholder=\"请输入关键字\"/>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click=\"handleSearch(1)\">查询</Button>&nbsp;\n          <Button @click=\"handleResetForm('searchForm')\">重置</Button>\n        </FormItem>\n      </Form>\n      <div class=\"search-con search-con-top\">\n        <ButtonGroup>\n          <Button type=\"primary\" @click=\"handleModal()\">\n            <span>添加</span>\n          </Button>\n        </ButtonGroup>\n      </div>\n      <Table border :columns=\"columns\" :data=\"data\" :loading=\"loading\">\n        <template slot=\"status\" slot-scope=\"{ row }\">\n          <Badge v-if=\"row.status===1\" status=\"success\" text=\"正常\"/>\n          <Badge v-else-if=\"row.status===2\" status=\"warning\" text=\"锁定\"/>\n          <Badge v-else=\"\" status=\"error\" text=\"禁用\"/>\n        </template>\n        <template slot=\"action\" slot-scope=\"{ row }\">\n          <a @click=\"handleModal(row)\">编辑</a>&nbsp;\n          <Dropdown v-show=\"hasAuthority('systemUserEdit')\" transfer ref=\"dropdown\" @on-click=\"handleClick($event,row)\">\n            <a href=\"javascript:void(0)\">\n              <span>更多</span>\n              <Icon type=\"ios-arrow-down\"></Icon>\n            </a>\n            <DropdownMenu slot=\"list\">\n              <DropdownItem name=\"sendToEmail\">发送到密保邮箱</DropdownItem>\n            </DropdownMenu>\n          </Dropdown>&nbsp;\n        </template>\n      </Table>\n      <Page transfer :total=\"pageInfo.total\" :current=\"pageInfo.page\" :page-size=\"pageInfo.limit\" show-elevator\n        show-sizer\n        show-total\n        @on-change=\"handlePage\" @on-page-size-change='handlePageSize'></Page>\n    </Card>\n  </div>\n</template>\n<script>\n  import {startWith, listConvertTree} from '@/libs/util'\n  import {getUserList, addUser} from '@/api/user'\n  import {getListCompany} from '@/api/company'\n  import {getListDept} from '@/api/department'\n  import {provinceData, cityData, countryData} from '@/assets/js/area'\n  export default {\n    name: 'SystemUser',\n    data() {\n      return {\n        loading: false,\n        pageInfo: {\n          page: 1,\n          size: 10,\n          deptId: 1,\n          userId: 1\n        },\n        columns: [\n          {type: 'selection',width: 60,},\n          {title: 'id',key: 'id'},\n          {title: '用户名', key: 'username',width: 200},\n          {title: '昵称',key: 'nickname'},\n          {title: '性别',key: 'sex'},\n          {title: '邮箱', key: 'email'},\n          {title: '手机号',key: 'phone'},\n          {title: '省',key: 'province'},\n          {title: '市',key: 'city'},\n          {title: '区',key: 'area'},\n          {title: '地址',key: 'areaddressa'},\n          {title: '年龄',key: 'age'},\n          {title: '出生日期',key: 'birthday'},\n          {title: '公司id',key: 'compId'},\n          {title: '部门id',key: 'deptId'},\n          {title: '角色id',key: 'roleId'},\n          {title: '头像',key: 'headImage'},\n          {\n            title: '操作',\n            slot: 'action',\n            fixed: 'right',\n            width: 150\n          }\n        ],\n        columns2: [\n          {\n            title: '菜单',\n            key: 'menuName',\n            minWidth: '250px',\n          },\n          {\n            title: '操作',\n            type: 'template',\n            template: 'operation',\n            minWidth: '200px'\n          }\n        ],\n        data: [],\n        companyData: []\n      }\n    },\n    methods: {\n      handleModal(data) {\n        this.$router.push({name: 'userinfo'})\n      },\n      handleSearch(page) {\n        if (page) {\n          this.pageInfo.page = page\n        }\n        this.loading = true\n        getUserList(this.pageInfo).then(res => {\n          if (res.code === 200) {\n            this.data = res.data.records\n            this.pageInfo.total = parseInt(res.data.total)\n          }\n        }).finally(() => {\n          this.loading = false\n        })\n      },\n      handlePage(current) {\n        this.pageInfo.page = current\n        this.handleSearch()\n      },\n      handlePageSize(size) {\n        this.pageInfo.limit = size\n        this.handleSearch()\n      },\n      handleClick(name, row) {\n        switch (name) {\n          case'sendToEmail':\n            this.$Message.warning(\"发送至密保邮箱,开发中...\")\n            break\n        }\n      },\n      handleTabClick(name){\n        this.current = name\n        this.handleModal();\n      },\n      getDept() {\n        getListDept().then(rs => {\n          console.log(rs)\n        })\n      }\n    },\n    mounted: function () {\n      this.province = provinceData\n      //this.handleSearch()\n      //this.getDept()\n    }\n  }\n</script>\n"]}]}