{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/yanglina/wadmin/src/view/module/gateway/ip-limit/index.vue?vue&type=template&id=52beb496&","dependencies":[{"path":"/Users/yanglina/wadmin/src/view/module/gateway/ip-limit/index.vue","mtime":1576228340797},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n  <Card shadow>\n    <Form ref=\"searchForm\"\n          :model=\"pageInfo\"\n          inline\n          :label-width=\"80\">\n      <FormItem label=\"策略名称\" prop=\"policyName\">\n        <Input type=\"text\" v-model=\"pageInfo.policyName\" placeholder=\"请输入关键字\"/>\n      </FormItem>\n      <FormItem>\n        <Button type=\"primary\" @click=\"handleSearch(1)\">查询</Button>&nbsp;\n        <Button @click=\"handleResetForm('searchForm')\">重置</Button>\n      </FormItem>\n    </Form>\n    <div class=\"search-con search-con-top\">\n      <ButtonGroup>\n        <Button :disabled=\"hasAuthority('gatewayIpLimitEdit')?false:true\" class=\"search-btn\" type=\"primary\"\n                @click=\"handleModal()\">\n          <span>添加</span>\n        </Button>\n      </ButtonGroup>\n    </div>\n    <Table border :columns=\"columns\" :data=\"data\" :loading=\"loading\">\n      <template slot=\"policyType\" slot-scope=\"{ row }\">\n        <Tag color=\"green\" v-if=\"row.policyType===1\">允许-白名单</Tag>\n        <Tag color=\"red\" v-else=\"\">拒绝-黑名单</Tag>\n      </template>\n      <template slot=\"action\" slot-scope=\"{ row }\">\n        <a :disabled=\"hasAuthority('gatewayIpLimitEdit')?false:true\" @click=\"handleModal(row)\">\n          编辑</a>&nbsp;\n        <a :disabled=\"hasAuthority('gatewayIpLimitEdit')?false:true\" @click=\"handleRemove(row)\">\n          删除\n        </a>\n      </template>\n    </Table>\n    <Page :total=\"pageInfo.total\" :current=\"pageInfo.page\" :page-size=\"pageInfo.limit\" show-elevator show-sizer\n          show-total\n          @on-change=\"handlePage\" @on-page-size-change='handlePageSize'></Page>\n  </Card>\n  <Modal v-model=\"modalVisible\"\n         :title=\"modalTitle\"\n         width=\"40\"\n         @on-cancel=\"handleReset\">\n    <div>\n      <Tabs :value=\"current\" @on-click=\"handleTabClick\">\n        <TabPane label=\"策略信息\" name=\"form1\">\n          <Form ref=\"form1\" v-show=\"current=='form1'\" :model=\"formItem\" :rules=\"formItemRules\" :label-width=\"100\">\n            <FormItem label=\"策略名称\" prop=\"policyName\">\n              <Input v-model=\"formItem.policyName\" placeholder=\"请输入内容\" />\n            </FormItem>\n            <FormItem label=\"策略类型\" prop=\"policyType\">\n              <Select v-model=\"formItem.policyType\">\n                <Option value=\"0\" label=\"拒绝-黑名单\"></Option>\n                <Option value=\"1\" label=\"允许-白名单\"></Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"IP地址/域名\" prop=\"ipAddress\">\n              <Input v-model=\"formItem.ipAddress\" type=\"textarea\"\n                placeholder=\"192.168.0.1;192.168.0.2;baidu.com;weixin.com\" /> 同时支持Ip和域名,多个用分号\";\"隔开。示例：192.168.0.1;baidu.com;weixin.com\n\n            </FormItem>\n          </Form>\n        </TabPane>\n        <TabPane :disabled=\"!formItem.policyId\" label=\"绑定接口\" name=\"form2\">\n          <Form ref=\"form2\" v-show=\"current=='form2'\" :model=\"formItem\" :rules=\"formItemRules\">\n            <Alert type=\"warning\" show-icon>请注意：如果API上原来已经绑定了一个策略，则会被本策略覆盖，请慎重选择！</Alert>\n            <FormItem prop=\"authorities\">\n              <Transfer\n                :data=\"selectApis\"\n                :list-style=\"{width: '45%',height: '480px'}\"\n                :titles=\"['选择接口', '已选择接口']\"\n                :render-format=\"transferRender\"\n                :target-keys=\"formItem.apiIds\"\n                @on-change=\"handleTransferChange\"\n                filterable>\n              </Transfer>\n            </FormItem>\n          </Form>\n        </TabPane>\n      </Tabs>\n      <div class=\"drawer-footer\">\n        <Button type=\"default\" @click=\"handleReset\">取消</Button>&nbsp;\n        <Button type=\"primary\" @click=\"handleSubmit\" :loading=\"saving\">保存</Button>\n      </div>\n    </div>\n  </Modal>\n</div>\n",null]}