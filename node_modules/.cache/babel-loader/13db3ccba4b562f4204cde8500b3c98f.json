{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/yanglina/wadmin/src/router/index.js","dependencies":[{"path":"/Users/yanglina/wadmin/src/router/index.js","mtime":1577514267759},{"path":"/Users/yanglina/wadmin/.babelrc","mtime":1576127290134},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport routes from './routers';\nimport store from '@/store';\nimport iView from 'iview';\nimport config from '@/config';\nimport { setToken, getToken, getMenuByRouter } from '@/libs/util';\nimport asyncRoutes from './asyncRouters.js';\nconst {\n  homeName\n} = config;\nVue.use(Router); // 存放加载的动态路由\n\nlet dyncRouters = [];\nlet BASE_URL = '';\n\nswitch (process.env.NODE_ENV) {\n  case 'development':\n    BASE_URL = config.publicPath.dev; // 这里是本地的请求url\n\n    break;\n\n  case 'production':\n    BASE_URL = config.publicPath.pro; // 生产环境url\n\n    break;\n}\n\nconst router = new Router({\n  base: BASE_URL,\n  routes: routes //mode: 'history'\n\n});\nconst LOGIN_PAGE_NAME = 'login'; //const asyncRoutes = \n\nif (!dyncRouters || dyncRouters.length === 0) {\n  dyncRouters = dyncRouters.concat(asyncRoutes);\n  router.addRoutes(dyncRouters);\n  routes.push(...dyncRouters); //防止重复添加路由报错\n\n  const routerPush = Router.prototype.push;\n\n  Router.prototype.push = function push(location) {\n    return routerPush.call(this, location).catch(error => error);\n  };\n}\n/*router.beforeEach((to, from, next) => {\n  const token = getToken() //window.localStorage.getItem('token')\n  console.log(token)\n  if (to.meta.requireAuth) { // 判断该路由是否需要登录权限\n    if (token) { // 通过vuex state获取当前的token是否存在\n      console.log(token)\n\t    /*if (!dyncRouters || dyncRouters.length === 0) {\n\t\t    dyncRouters = dyncRouters.concat(asyncRoutes)\n\t\t    router.addRoutes(dyncRouters)\n\t\t    routes.push(...dyncRouters)\n\t\t    //防止重复添加路由报错\n\t\t    const routerPush = Router.prototype.push\n\t\t    Router.prototype.push = function push(location) {\n\t\t\t\t  return routerPush.call(this, location).catch(error=> error)\n\t\t    }\n\t    }\n      next()\n    } else {\n      //console.log('该页面需要登陆')\n      next({\n        name: 'login' // query: {redirect: to.fullPath} // 将跳转的路由path作为参数，登录成功后跳转到该路由\n      })\n    }\n  } else {\n\t\t//console.log(dyncRouters)\n    next()\n  }\n})*/\n\n\nexport default router;",{"version":3,"sources":["/Users/yanglina/wadmin/src/router/index.js"],"names":["Vue","Router","routes","store","iView","config","setToken","getToken","getMenuByRouter","asyncRoutes","homeName","use","dyncRouters","BASE_URL","process","env","NODE_ENV","publicPath","dev","pro","router","base","LOGIN_PAGE_NAME","length","concat","addRoutes","push","routerPush","prototype","location","call","catch","error"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,eAA7B,QAAmD,aAAnD;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAeL,MAArB;AACAL,GAAG,CAACW,GAAJ,CAAQV,MAAR,E,CACA;;AACA,IAAIW,WAAW,GAAG,EAAlB;AAEA,IAAIC,QAAQ,GAAG,EAAf;;AACA,QAAQC,OAAO,CAACC,GAAR,CAAYC,QAApB;AACE,OAAK,aAAL;AACEH,IAAAA,QAAQ,GAAGR,MAAM,CAACY,UAAP,CAAkBC,GAA7B,CADF,CACmC;;AACjC;;AACF,OAAK,YAAL;AACEL,IAAAA,QAAQ,GAAGR,MAAM,CAACY,UAAP,CAAkBE,GAA7B,CADF,CACmC;;AACjC;AANJ;;AAQA,MAAMC,MAAM,GAAG,IAAInB,MAAJ,CAAW;AACxBoB,EAAAA,IAAI,EAAER,QADkB;AAExBX,EAAAA,MAAM,EAAEA,MAFgB,CAGxB;;AAHwB,CAAX,CAAf;AAKA,MAAMoB,eAAe,GAAG,OAAxB,C,CACA;;AACA,IAAI,CAACV,WAAD,IAAgBA,WAAW,CAACW,MAAZ,KAAuB,CAA3C,EAA8C;AAC7CX,EAAAA,WAAW,GAAGA,WAAW,CAACY,MAAZ,CAAmBf,WAAnB,CAAd;AACAW,EAAAA,MAAM,CAACK,SAAP,CAAiBb,WAAjB;AACAV,EAAAA,MAAM,CAACwB,IAAP,CAAY,GAAGd,WAAf,EAH6C,CAI7C;;AACA,QAAMe,UAAU,GAAG1B,MAAM,CAAC2B,SAAP,CAAiBF,IAApC;;AACAzB,EAAAA,MAAM,CAAC2B,SAAP,CAAiBF,IAAjB,GAAwB,SAASA,IAAT,CAAcG,QAAd,EAAwB;AAC/C,WAAOF,UAAU,CAACG,IAAX,CAAgB,IAAhB,EAAsBD,QAAtB,EAAgCE,KAAhC,CAAsCC,KAAK,IAAGA,KAA9C,CAAP;AACA,GAFD;AAGA;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,eAAeZ,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport routes from './routers'\nimport store from '@/store'\nimport iView from 'iview'\nimport config from '@/config'\nimport { setToken, getToken, getMenuByRouter} from '@/libs/util'\nimport asyncRoutes from './asyncRouters.js'\nconst { homeName } = config\nVue.use(Router)\n// 存放加载的动态路由\nlet dyncRouters = []\n\nlet BASE_URL = ''\nswitch (process.env.NODE_ENV) {\n  case 'development':\n    BASE_URL = config.publicPath.dev // 这里是本地的请求url\n    break\n  case 'production':\n    BASE_URL = config.publicPath.pro // 生产环境url\n    break\n}\nconst router = new Router({\n  base: BASE_URL,\n  routes: routes,\n  //mode: 'history'\n})\nconst LOGIN_PAGE_NAME = 'login'\n//const asyncRoutes = \nif (!dyncRouters || dyncRouters.length === 0) {\n\tdyncRouters = dyncRouters.concat(asyncRoutes)\n\trouter.addRoutes(dyncRouters)\n\troutes.push(...dyncRouters)\n\t//防止重复添加路由报错\n\tconst routerPush = Router.prototype.push\n\tRouter.prototype.push = function push(location) {\n\t\treturn routerPush.call(this, location).catch(error=> error)\n\t}\n}\n/*router.beforeEach((to, from, next) => {\n  const token = getToken() //window.localStorage.getItem('token')\n  console.log(token)\n  if (to.meta.requireAuth) { // 判断该路由是否需要登录权限\n    if (token) { // 通过vuex state获取当前的token是否存在\n      console.log(token)\n\t    /*if (!dyncRouters || dyncRouters.length === 0) {\n\t\t    dyncRouters = dyncRouters.concat(asyncRoutes)\n\t\t    router.addRoutes(dyncRouters)\n\t\t    routes.push(...dyncRouters)\n\t\t    //防止重复添加路由报错\n\t\t    const routerPush = Router.prototype.push\n\t\t    Router.prototype.push = function push(location) {\n\t\t\t\t  return routerPush.call(this, location).catch(error=> error)\n\t\t    }\n\t    }\n      next()\n    } else {\n      //console.log('该页面需要登陆')\n      next({\n        name: 'login' // query: {redirect: to.fullPath} // 将跳转的路由path作为参数，登录成功后跳转到该路由\n      })\n    }\n  } else {\n\t\t//console.log(dyncRouters)\n    next()\n  }\n})*/\nexport default router"]}]}