{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/yanglina/wadmin/src/store/module/user.js","dependencies":[{"path":"/Users/yanglina/wadmin/src/store/module/user.js","mtime":1577514380278},{"path":"/Users/yanglina/wadmin/.babelrc","mtime":1576127290134},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { setToken, getToken } from '@/libs/util';\nimport { login } from '@/api/login';\nexport default {\n  state: {\n    userName: '',\n    userId: '',\n    nickName: '',\n    avatarImgPath: '',\n    token: getToken(),\n    access: [],\n    hasGetInfo: false,\n    userDesc: '',\n    mobile: '',\n    email: '',\n    menus: [] // 用户菜单\n\n  },\n  mutations: {\n    setAvatar(state, avatarPath) {\n      state.avatarImgPath = avatarPath;\n    },\n\n    setNickName(state, nickName) {\n      state.nickName = nickName;\n    },\n\n    setUserId(state, id) {\n      state.userId = id;\n    },\n\n    setUserName(state, name) {\n      state.userName = name;\n    },\n\n    setAccess(state, access) {\n      state.access = access;\n    },\n\n    setToken(state, {\n      token\n    }) {\n      state.token = token;\n      setToken(token);\n    },\n\n    setHasGetInfo(state, status) {\n      state.hasGetInfo = status;\n    },\n\n    setUserMenus(state, menus) {\n      state.menus = menus;\n    },\n\n    setMobile(state, mobile) {\n      state.mobile = mobile;\n    },\n\n    setEmail(state, email) {\n      state.email = email;\n    },\n\n    setUserDesc(state, userDesc) {\n      state.userDesc = userDesc;\n    },\n\n    setPermissionVos(state, permissionVos) {\n      state.setPermissionVos = permissionVos;\n    }\n\n  },\n  actions: {\n    // 登录 获取用户信息\n    handleLogin({\n      commit\n    }, {\n      username,\n      password\n    }) {\n      username = username.trim();\n      return new Promise((resolve, reject) => {\n        login({\n          username,\n          password\n        }).then(res => {\n          if (res) {\n            let token = res.data.accessToken;\n            commit('setToken', {\n              token\n            }); //token\n\n            commit('setAvatar', res.data.headImage); //头像\n\n            commit('setUserName', res.data.username); // 用户名\n\n            commit('setNickName', res.data.nickname); //昵称\n\n            commit('setUserId', res.data.id);\n            commit('setEmail', res.data.email); //邮箱\n\n            commit('setMobile', res.data.phone); //手机号\n            //commit('setUserDesc', res.data.userDesc)\n\n            commit('setUserMenus', res.data.permissionVos); //用户登录所创建菜单\n\n            resolve(res);\n          }\n        }).catch(err => {\n          reject(err);\n        });\n      });\n    },\n\n    // 退出登录\n    handleLogout({\n      state,\n      commit\n    }) {//console.log(111)\n      //console.log(this.$router)\n    }\n\n  }\n};",{"version":3,"sources":["/Users/yanglina/wadmin/src/store/module/user.js"],"names":["setToken","getToken","login","state","userName","userId","nickName","avatarImgPath","token","access","hasGetInfo","userDesc","mobile","email","menus","mutations","setAvatar","avatarPath","setNickName","setUserId","id","setUserName","name","setAccess","setHasGetInfo","status","setUserMenus","setMobile","setEmail","setUserDesc","setPermissionVos","permissionVos","actions","handleLogin","commit","username","password","trim","Promise","resolve","reject","then","res","data","accessToken","headImage","nickname","phone","catch","err","handleLogout"],"mappings":"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","sourcesContent":["\nimport { setToken, getToken } from '@/libs/util'\nimport {login} from '@/api/login'\nexport default {\n  state: {\n    userName: '',\n    userId: '',\n    nickName: '',\n    avatarImgPath: '',\n    token: getToken(),\n    access: [],\n    hasGetInfo: false,\n    userDesc: '',\n    mobile: '',\n    email: '',\n    menus: []// 用户菜单\n  },\n  mutations: {\n    setAvatar (state, avatarPath) {\n      state.avatarImgPath = avatarPath\n    },\n    setNickName (state, nickName) {\n      state.nickName = nickName\n    },\n    setUserId (state, id) {\n      state.userId = id\n    },\n    setUserName (state, name) {\n      state.userName = name\n    },\n    setAccess (state, access) {\n      state.access = access\n    },\n    setToken (state, { token}) {\n      state.token = token\n      setToken(token)\n    },\n    setHasGetInfo (state, status) {\n      state.hasGetInfo = status\n    },\n    setUserMenus (state, menus) {\n      state.menus = menus\n    },\n    setMobile (state, mobile) {\n      state.mobile = mobile\n    },\n    setEmail (state, email) {\n      state.email = email\n    },\n    setUserDesc (state, userDesc) {\n      state.userDesc = userDesc\n    },\n\t\tsetPermissionVos (state, permissionVos) {\n\t\t  state.setPermissionVos = permissionVos\n\t\t}\n  },\n  actions: {\n    // 登录 获取用户信息\n    handleLogin ({ commit }, { username, password}) {\n      username = username.trim()\n      return new Promise((resolve, reject) => {\n        login({\n          username,\n          password\n        }).then(res => {\n          if (res) {\n              let token = res.data.accessToken\n              commit('setToken', { token}) //token\n\t\t\t\t\t\t\tcommit('setAvatar', res.data.headImage) //头像\n\t\t\t\t\t\t\tcommit('setUserName', res.data.username) // 用户名\n\t\t\t\t\t\t\tcommit('setNickName', res.data.nickname) //昵称\n\t\t\t\t\t\t\tcommit('setUserId', res.data.id)\n\t\t\t\t\t\t\tcommit('setEmail', res.data.email) //邮箱\n\t\t\t\t\t\t\tcommit('setMobile', res.data.phone) //手机号\n\t\t\t\t\t\t\t//commit('setUserDesc', res.data.userDesc)\n\t\t\t\t\t\t\tcommit('setUserMenus', res.data.permissionVos) //用户登录所创建菜单\n              resolve(res)\n          }\n        }).catch(err => {\n          reject(err)\n        })\n      })\n    },\n    // 退出登录\n    handleLogout ({ state, commit }) {\n      //console.log(111)\n      //console.log(this.$router)\n    }\n  }\n}\n"]}]}