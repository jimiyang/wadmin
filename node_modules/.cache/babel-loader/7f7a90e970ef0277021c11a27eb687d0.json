{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/yanglina/wadmin/src/view/module/system/user/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglina/wadmin/src/view/module/system/user/index.vue","mtime":1577561142866},{"path":"/Users/yanglina/wadmin/.babelrc","mtime":1576127290134},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { startWith, listConvertTree } from '@/libs/util';\nimport { getUserList, addUser } from '@/api/user';\nimport { getListCompany } from '@/api/company';\nimport { getListDept } from '@/api/department';\nimport { provinceData, cityData, countryData } from '@/assets/js/area';\nexport default {\n  name: 'SystemUser',\n\n  data() {\n    return {\n      loading: false,\n      pageInfo: {\n        page: 1,\n        size: 10,\n        deptId: '',\n        userId: null\n      },\n      columns: [{\n        type: 'selection',\n        width: 60\n      }, {\n        title: 'id',\n        key: 'id',\n        width: 200\n      }, {\n        title: '用户名',\n        key: 'username',\n        width: 200\n      }, {\n        title: '昵称',\n        key: 'nickname',\n        width: 200\n      }, {\n        title: '性别',\n        key: 'sex',\n        width: 80\n      }, {\n        title: '邮箱',\n        key: 'email',\n        width: 200\n      }, {\n        title: '手机号',\n        key: 'phone',\n        width: 200\n      }, {\n        title: '省',\n        key: 'province',\n        width: 80\n      }, {\n        title: '市',\n        key: 'city',\n        width: 80\n      }, {\n        title: '区',\n        key: 'area',\n        width: 80\n      }, {\n        title: '地址',\n        key: 'areaddressa',\n        width: 200\n      }, {\n        title: '年龄',\n        key: 'age',\n        width: 80\n      }, {\n        title: '出生日期',\n        key: 'birthday',\n        width: 200\n      }, {\n        title: '公司id',\n        key: 'compId',\n        width: 80\n      }, {\n        title: '部门id',\n        key: 'deptId',\n        width: 80\n      }, {\n        title: '角色id',\n        key: 'roleId',\n        width: 80\n      }, {\n        title: '头像',\n        key: 'headImage',\n        width: 200\n      }, {\n        title: '操作',\n        slot: 'action',\n        fixed: 'right',\n        width: 150\n      }],\n      columns2: [{\n        title: '菜单',\n        key: 'menuName',\n        minWidth: '250px'\n      }, {\n        title: '操作',\n        type: 'template',\n        template: 'operation',\n        minWidth: '200px'\n      }],\n      data: [],\n      companyData: [],\n      userInfo: JSON.parse(window.localStorage.getItem('userInfo'))\n    };\n  },\n\n  methods: {\n    handleModal(row) {\n      this.$router.push({\n        name: 'userinfo',\n        params: {\n          id: row !== undefined ? row.id : null\n        }\n      });\n    },\n\n    deleteUser(row) {\n      delUser(row.id).then(res => {\n        if (res.code === 200) {\n          this.$Message.info(res.message);\n          this.handleSearch();\n        }\n      });\n    },\n\n    handleSearch(page) {\n      if (page) {\n        this.pageInfo.page = page;\n      }\n\n      this.loading = true;\n      const params = Object.assign(this.pageInfo, {\n        userId: this.userInfo.id\n      });\n      getUserList(params).then(res => {\n        if (res.code === 200) {\n          this.data = res.data.records;\n          this.pageInfo.total = parseInt(res.data.total);\n        }\n      }).finally(() => {\n        this.loading = false;\n      });\n    },\n\n    handlePage(current) {\n      this.pageInfo.page = current;\n      this.handleSearch();\n    },\n\n    handlePageSize(size) {\n      this.pageInfo.limit = size;\n      this.handleSearch();\n    },\n\n    handleClick(name, row) {\n      switch (name) {\n        case 'sendToEmail':\n          this.$Message.warning(\"发送至密保邮箱,开发中...\");\n          break;\n      }\n    },\n\n    handleTabClick(name) {\n      this.current = name;\n      this.handleModal();\n    },\n\n    getDept() {\n      getListDept().then(rs => {\n        console.log(rs);\n      });\n    }\n\n  },\n  mounted: function () {\n    this.province = provinceData;\n    this.handleSearch(); //this.getDept()\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <Card>\n      <Form ref=\"searchForm\"\n            :model=\"pageInfo\"\n            inline\n            :label-width=\"80\">\n        <FormItem label=\"登录名\" prop=\"userName\">\n          <Input type=\"text\" v-model=\"pageInfo.userName\" placeholder=\"请输入关键字\"/>\n        </FormItem>\n        <FormItem label=\"手机号\" prop=\"mobile\">\n          <Input type=\"text\" v-model=\"pageInfo.mobile\" placeholder=\"请输入关键字\"/>\n        </FormItem>\n        <FormItem label=\"邮箱\" prop=\"email\">\n          <Input type=\"text\" v-model=\"pageInfo.email\" placeholder=\"请输入关键字\"/>\n        </FormItem>\n        <FormItem>\n          <Button type=\"primary\" @click=\"handleSearch(1)\">查询</Button>&nbsp;\n          <Button @click=\"handleResetForm('searchForm')\">重置</Button>\n        </FormItem>\n      </Form>\n      <div class=\"search-con search-con-top\">\n        <Button type=\"primary\" @click=\"handleModal()\">添加</Button>\n        <Button type=\"primary\" class=\"ml10\">批量删除</Button>\n      </div>\n      <Table border :columns=\"columns\" :data=\"data\" :loading=\"loading\">\n        <template slot=\"status\" slot-scope=\"{ row }\">\n          <Badge v-if=\"row.status===1\" status=\"success\" text=\"正常\"/>\n          <Badge v-else-if=\"row.status===2\" status=\"warning\" text=\"锁定\"/>\n          <Badge v-else=\"\" status=\"error\" text=\"禁用\"/>\n        </template>\n        <template slot=\"action\" slot-scope=\"{ row }\">\n          <a @click=\"handleModal(row)\">编辑</a>&nbsp;\n          <a @click=\"deleteUser(row)\">删除</a>&nbsp;\n        </template>\n      </Table>\n      <Page transfer :total=\"pageInfo.total\" :current=\"pageInfo.page\" :page-size=\"pageInfo.size\" show-elevator\n        show-sizer\n        show-total\n        @on-change=\"handlePage\" @on-page-size-change='handlePageSize'></Page>\n    </Card>\n  </div>\n</template>\n<script>\n  import {startWith, listConvertTree} from '@/libs/util'\n  import {getUserList, addUser} from '@/api/user'\n  import {getListCompany} from '@/api/company'\n  import {getListDept} from '@/api/department'\n  import {provinceData, cityData, countryData} from '@/assets/js/area'\n  export default {\n    name: 'SystemUser',\n    data() {\n      return {\n        loading: false,\n        pageInfo: {\n          page: 1,\n          size: 10,\n          deptId: '',\n          userId: null\n        },\n        columns: [\n          {type: 'selection',width: 60,},\n          {title: 'id',key: 'id', width: 200},\n          {title: '用户名', key: 'username', width: 200},\n          {title: '昵称',key: 'nickname', width: 200},\n          {title: '性别',key: 'sex', width: 80},\n          {title: '邮箱', key: 'email', width: 200},\n          {title: '手机号',key: 'phone', width: 200},\n          {title: '省',key: 'province', width: 80},\n          {title: '市',key: 'city', width: 80},\n          {title: '区',key: 'area', width: 80},\n          {title: '地址',key: 'areaddressa', width: 200},\n          {title: '年龄',key: 'age', width: 80},\n          {title: '出生日期',key: 'birthday', width: 200},\n          {title: '公司id',key: 'compId', width: 80},\n          {title: '部门id',key: 'deptId', width: 80},\n          {title: '角色id',key: 'roleId', width: 80},\n          {title: '头像',key: 'headImage', width: 200},\n          {\n            title: '操作',\n            slot: 'action',\n            fixed: 'right',\n            width: 150\n          }\n        ],\n        columns2: [\n          {\n            title: '菜单',\n            key: 'menuName',\n            minWidth: '250px',\n          },\n          {\n            title: '操作',\n            type: 'template',\n            template: 'operation',\n            minWidth: '200px'\n          }\n        ],\n        data: [],\n        companyData: [],\n        userInfo: JSON.parse(window.localStorage.getItem('userInfo')),\n      }\n    },\n    methods: {\n      handleModal(row) {\n        this.$router.push({name: 'userinfo', params: {id: row !== undefined ? row.id : null}})\n      },\n      deleteUser(row) {\n        delUser(row.id).then(res => {\n          if(res.code === 200) {\n            this.$Message.info(res.message);\n            this.handleSearch()\n          }\n        })\n      },\n      handleSearch(page) {\n        if (page) {\n          this.pageInfo.page = page\n        }\n        this.loading = true\n        const params = Object.assign(this.pageInfo, {userId: this.userInfo.id})\n        getUserList(params).then(res => {\n          if (res.code === 200) {\n            this.data = res.data.records\n            this.pageInfo.total = parseInt(res.data.total)\n          }\n        }).finally(() => {\n          this.loading = false\n        })\n      },\n      handlePage(current) {\n        this.pageInfo.page = current\n        this.handleSearch()\n      },\n      handlePageSize(size) {\n        this.pageInfo.limit = size\n        this.handleSearch()\n      },\n      handleClick(name, row) {\n        switch (name) {\n          case'sendToEmail':\n            this.$Message.warning(\"发送至密保邮箱,开发中...\")\n            break\n        }\n      },\n      handleTabClick(name){\n        this.current = name\n        this.handleModal();\n      },\n      getDept() {\n        getListDept().then(rs => {\n          console.log(rs)\n        })\n      }\n    },\n    mounted: function () {\n      this.province = provinceData\n      this.handleSearch()\n      //this.getDept()\n    }\n  }\n</script>\n"],"sourceRoot":"src/view/module/system/user"}]}