{"remainingRequest":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/yanglina/wadmin/src/components/main/components/user/user.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yanglina/wadmin/src/components/main/components/user/user.vue","mtime":1576227715372},{"path":"/Users/yanglina/wadmin/.babelrc","mtime":1576127290134},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yanglina/wadmin/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport './user.less';\nimport { mapActions } from 'vuex';\nimport { sub } from '@/libs/tools';\nconst ColorList = ['#f56a00', '#7265e6', '#ffbf00', '#00a2ae'];\n\nconst rnd = (n, m) => {\n  let random = Math.floor(Math.random() * (m - n + 1) + n);\n  return random;\n};\n\nexport default {\n  name: 'User',\n  props: {\n    userName: {\n      type: String,\n      default: ''\n    },\n    nickName: {\n      type: String,\n      default: ''\n    },\n    userAvatar: {\n      type: String,\n      default: ''\n    }\n  },\n\n  data() {\n    return {\n      color: ColorList[rnd(0, ColorList.length - 1)]\n    };\n  },\n\n  computed: {\n    getNicknameAt() {\n      return this.nickName ? sub(this.nickName, 2, false) : '';\n    }\n\n  },\n  methods: { ...mapActions(['handleLogout']),\n\n    handleClick(name) {\n      switch (name) {\n        case 'setting':\n          this.$router.push({\n            name: 'setting'\n          });\n          break;\n\n        case 'logout':\n          this.handleLogout().then(() => {\n            // 地址栏重新刷新\n            //location.reload()\n            console.log(222);\n            this.$router.push({\n              name: 'login'\n            });\n          });\n          break;\n      }\n    }\n\n  }\n};",{"version":3,"sources":["user.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAeA,OAAA,aAAA;AACA,SAAA,UAAA,QAAA,MAAA;AACA,SAAA,GAAA,QAAA,cAAA;AAEA,MAAA,SAAA,GAAA,CAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,CAAA;;AACA,MAAA,GAAA,GAAA,CAAA,CAAA,EAAA,CAAA,KAAA;AACA,MAAA,MAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,MAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAAA;AACA,SAAA,MAAA;AACA,CAHA;;AAKA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KADA;AAKA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KALA;AASA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AATA,GAFA;;AAgBA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,SAAA,CAAA,GAAA,CAAA,CAAA,EAAA,SAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AADA,KAAA;AAGA,GApBA;;AAqBA,EAAA,QAAA,EAAA;AACA,IAAA,aAAA,GAAA;AACA,aAAA,KAAA,QAAA,GAAA,GAAA,CAAA,KAAA,QAAA,EAAA,CAAA,EAAA,KAAA,CAAA,GAAA,EAAA;AACA;;AAHA,GArBA;AA0BA,EAAA,OAAA,EAAA,EACA,GAAA,UAAA,CAAA,CACA,cADA,CAAA,CADA;;AAIA,IAAA,WAAA,CAAA,IAAA,EAAA;AACA,cAAA,IAAA;AACA,aAAA,SAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA;AACA,YAAA,IAAA,EAAA;AADA,WAAA;AAGA;;AACA,aAAA,QAAA;AACA,eAAA,YAAA,GAAA,IAAA,CAAA,MAAA;AACA;AACA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,iBAAA,OAAA,CAAA,IAAA,CAAA;AACA,cAAA,IAAA,EAAA;AADA,aAAA;AAGA,WAPA;AAQA;AAfA;AAiBA;;AAtBA;AA1BA,CAAA","sourcesContent":["<template>\n  <div class=\"user-avatar-dropdown\">\n    <Dropdown @on-click=\"handleClick\">\n      <Avatar :style=\"{background: color}\" :src=\"userAvatar\">{{getNicknameAt}}</Avatar>\n      <label class=\"user-name\">{{userName}}</label>\n      <Icon :size=\"18\" type=\"md-arrow-dropdown\"></Icon>\n      <DropdownMenu slot=\"list\">\n        <DropdownItem name=\"setting\"><Icon size=\"16\" type=\"md-person\" /> 个人设置</DropdownItem>\n        <DropdownItem divided name=\"logout\"><Icon size=\"16\" type=\"md-power\" /> 退出登录</DropdownItem>\n      </DropdownMenu>\n    </Dropdown>\n  </div>\n</template>\n\n<script>\n  import './user.less'\n  import {mapActions} from 'vuex'\n  import { sub } from '@/libs/tools'\n\n  const ColorList = ['#f56a00', '#7265e6', '#ffbf00', '#00a2ae'];\n  const  rnd = ((n, m) => {\n    let random = Math.floor(Math.random()*(m-n+1)+n);\n    return random\n  })\n\n  export default {\n    name: 'User',\n    props: {\n      userName: {\n        type: String,\n        default: ''\n      },\n      nickName: {\n        type: String,\n        default: ''\n      },\n      userAvatar: {\n        type: String,\n        default: ''\n      }\n    },\n    data () {\n      return {\n        color: ColorList[rnd(0,ColorList.length-1)]\n      }\n    },\n    computed:{\n      getNicknameAt(){\n        return this.nickName?sub(this.nickName,2,false):''\n      }\n    },\n    methods: {\n      ...mapActions([\n        'handleLogout'\n      ]),\n      handleClick (name) {\n        switch (name) {\n          case 'setting':\n            this.$router.push({\n              name: 'setting'\n            })\n              break\n          case 'logout':\n            this.handleLogout().then(() => {\n              // 地址栏重新刷新\n              //location.reload()\n              console.log(222)\n              this.$router.push({\n                name: 'login'\n              })\n            })\n            break\n        }\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"src/components/main/components/user"}]}